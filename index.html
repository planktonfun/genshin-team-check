<html>
<head>
	<meta name="referrer" content="no-referrer">
	<style>
		@font-face {
		  font-family: 'MyWebFont';
		  src: url('./font/zh-cn.ttf')  format('truetype');
		}

		body {
			color: #eae4d7;
			background:#141122;
			/*background: url('https://media.discordapp.net/attachments/767311215130705951/775655105365409822/Floor_12.jpg');*/
			background-size: 100%;
			margin: 0px;
			font-family: 'MyWebFont', Fallback, sans-serif;
			-webkit-user-select: none;
		  -khtml-user-select: none;
		  -moz-user-select: none;
		  -o-user-select: none;
		  user-select: none;
		}

		.card {
			width: 7%;
    		/*height: 16.5%;*/
			margin: 0.3%;
			cursor: pointer;
			opacity: 0.5;
		}

		.card:hover {
			opacity: 1;
		}

		.transparent-black {
			background: #00000073;
			opacity: 0.5;
		}

		.transparent-black:hover {
			opacity: 1;
			background: #d8b716b8;
		}

		.ley-line {
			width: 100%;
			position: absolute;
		}

		.content {
			color: #b8b5b1;
		    position: relative;
		    padding-top: 1.9%;
		    padding-left: 46.3%;
		    font-size: 1.2vw;
		    width: 51%;
		}

		.heading {
			position: relative;
		    padding-top: 1.9%;
		    padding-left: 44.1%;
		    font-size: 1.7vw;
		}

		.intro {
 			margin: 20% 0px;
		    width: 100%;
		    height: 32.5%;
		    /*background: url(./images/ley-line.png);*/
		    /*background-size: 100%;*/
		    /*background-repeat: no-repeat;*/
		}

		.icon {
			width: 17.2%;
		}

		.characters {
    		padding-left: 1.5%;
		}

		.select {
			font-size: 1.16vw;
			padding-left: 5.7%;
    		padding-top: 1.1%;
			color: #b1a383;
		}

		.no-select {
			font-size: 1.16vw;
			padding-left: 0%;
    		padding-top: 1.1%;
			color: #b1a383;
		}

		.head {
			width: 3.7%;
			padding-left: 0.4%;
			position: absolute;
		}

		.header {
			padding-left: 1.5%;
			padding-bottom: 1%;
			padding-top: 1%;
			clear:both;
		}

		.highlight {
			opacity: 1;
		}

		.weapons {
			padding-left: 1.5%;
		}

		.weapon {
			width: 7.6%;
    		height: 19.2%;
    		float: left;
			min-height: 47px;
		}

		.weapon .container {
			position: absolute;
    		width: 7.6%;
		}

		.weapon .container {
			position: absolute;
    		width: 7.6%;
		}

		.weapon .address {
			position: absolute;
		    width: 5.2%;
		    padding-left: 1.4%;
		    padding-top: 0.4%;
		}

		.weapon .context {
			position: absolute;
		    padding-top: 7.5%;
		    font-size: 0.7vw;
		    text-align: center;
		    color: #4f596b;
		    width: 6.6%;
		}

		.page-1,.page-2,.page-3,.page-hidden {
			display: none;
		}

		.button {
			font-size: 1.16vw;
    		color: #b1a383;
            float: left;
            margin: 0 2%;
		}

		.button:hover {
			color: #e0d1af;
		}

		.floors {
			font-size: 1.16vw;
		    padding: 5.7%;
		    color: #b1a383;
		}

		#myProgress {
		  width: 100%;
		  background-color: #f5f5f5;
		}

		#myBar {
		  width: 1%;
		  height: 30px;
		  background-color: #686868;
		}

		.team {
			padding-left: 2.5%;
		}

		.team .card {
			float: left;
			opacity: 1;
		}

		.note {
			float: left;
			margin: 0.3% 0.5%;
		}

		.break-float {
			clear:both;
		}

		.desc {
			position: absolute;
		    padding: 1.8% 2.8%;
		    width: 69.2%;
		    /*background: #373e50;*/
		    height: 10.8%;
		    min-height: 47px;
		    font-size: 1.16vw;
		}

	</style>
	<title>
		Abyss party recommendation system patch v1.1
	</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<div class="intro">
		<img class="ley-line" src='./images/ley-line.png' />
		<div class="heading">How to use</div>
		<div class="content">Pick characters you have, pick weapons you have, <strike>pick artifact sets you have, pick floor of abyss you're going into</strike> then it will recommend a compatible team composition</div>
	</div>
	<div class="page-1">
		<div class="header">
			<img class="head" src="images/head.svg" />
			<div class="select">Select Characters (Patch 1.1)</div>
		</div><br />
		<div class="characters">
			<img class="card" name="amber" src="https://lh4.googleusercontent.com/ckkS9VMskKGOgxFD-BKPNxB_os5tMOW3vyIG5vTxnDsuMzE5glvgoOKrL62nUAavle8ii1HsUGsUU8ps9ZjxIl6NqMCBg9XZoDV6NCEvwwD09SOTMs18nO-xe7jsb-YdfuilVk96Lw" />
			<img class="card" name="barbara" src="https://lh4.googleusercontent.com/cLoYRPUNba59TIof8JPiCRBzWEwgyeUsOug6yFQMMVjJMgEWLqcQP5-ROM09fcsWMJEiDNxLT48s62ZCxUkHwmSbtcBiKSrjsPucob0Hv6XfMLpez8u7LqhyLtbNzn6XBllvRWGG5Q" />
			<img class="card" name="beidou" src="https://lh6.googleusercontent.com/TuZMS5oo2TOCzI7I6y4ViIV2ydyrB6XheQF4kEoQhJBPrLQFXm5ZO9co54Szk_y_kZWjzO1AlmZgdatT8eJpXJCPLZK09UxbZE_2tFQ4556EwyIE9alR0GPJwJDIVsaRIM2ahbqxpA" />
			<img class="card" name="bennett" src="https://lh5.googleusercontent.com/MR36rVS6OqPkiz6Efc94iUAjCxpne-sNeREkYlXzvO8UHqguoBrxd0DmcsuzyZ2gCiukIgZUWC1dF_ouwnnXebyNI0NnsEiZgDPU8MmyXYk1tBCKuXeFFwB4Vl6g15ZrewvbfIgygA" />
			<img class="card" name="childe" src="https://genshin.honeyhunterworld.com/img/char/tartaglia_135.png" />
			<img class="card" name="chongyun" src="https://lh3.googleusercontent.com/v4yVGfO7euBKAiszn7dYwmK5w01hflbAB29_2KeixuQgh011WljgDtaCSdrIDQeKArSplAAHqFMMRR7X-fTU6Fxoi2yHaq20eASsbCl1mIzldFhy6J5d0BwdXUq9gGNG5BqiZr0Gtw" />
			<img class="card" name="diluc" src="https://lh4.googleusercontent.com/azVJYV9TRaunokp4hgdnWdpkJ0-1EF0g778JeugNO0nCGrMZ8BzvTWZ5PfbGCpE_qGlNuR4Fx90d-iew1g-TGv0StJCXr6IAeI3XgWqWNOq_JWVO-sG5crQ0WPGELUWeoFRbW95HXw" />
			<img class="card" name="diona" src="https://genshin.honeyhunterworld.com/img/char/diona_135.png" />
			<img class="card" name="fischl" src="https://lh5.googleusercontent.com/hLQ_rd0lITfQqku9VA-YcGoSWMT7q8PQquwvxHSzzBvNVAcDmEOM5-wXvSWnvTrFxzG5pFQBQBp4jYTHic2BMTrSV011D-N5h2c9MbOvjh_N6pzzAg_wClC0ub6bg_29Cc618AIbdQ" />
			<img class="card" name="jean" src="https://lh3.googleusercontent.com/5bWYGoXU6FmgWLQdim_Kk-4F4XL7FVKowwsfaCiC_IKfGa6-LruQNeY-_bp01iphyoH30WVNP9GBS3mCbm-cmfHttgSvrYhLxSEsHB-3QpQRvoMeR4sSM_qjU7Em_iy3nc9myMEhVg" />
			<img class="card" name="kaeya" src="https://lh5.googleusercontent.com/D8fnZzSRnxgZR_GWO9Kp1bp60aO4V8GpudDLEx4iPer_1qrYxqLY896JV867tdrT9bZGzOu8mNz003MlKX_iLdT4w68-aXCFr_KzGa8VyLIo_D5vTINhYeRXaV7NlC8nLunekA_flA" />
			<img class="card" name="keqing" src="https://lh6.googleusercontent.com/jFZrSUbxPzp8IAnA0LRwMqlcawbqN72kpO8AXAXfP3m9q8L_9_1MxVEnaAjCbHEQEVzRA-A6GV0NVZNXp1JOgg6MNuH8qmTn88Ooz4FPN_zLMyyT-He6fBVcJD4viM2mlIZOa4DB0g" />
			<img class="card" name="klee" src="https://lh5.googleusercontent.com/d3Ez0JritTTkxZhkqt9woWZSRTpNnXvxtnu7DPgZvefKOREMQ3SMGqiW25ELqxVX7cJh1FscgzHbF-X14GvrDngpDs6q3TdJz1_dNcnjN4tZ6fCaZllauScGNejmX5NoGQ140Ams8A" />
			<img class="card" name="lisa" src="https://lh5.googleusercontent.com/u0oqWa_6VwbpqloFD_XG53vK72ZufPc59X_3P5L1RcvZVNw0eb1Muq76kQp2JmMHtkRDKBi-dCtbZUBaFF25AHdOPXNAei4d0S-O38zrvSndb5IeMWFZ2yyTQb682v4zZPkMYs_XTg" />
			<img class="card" name="mona" src="https://lh6.googleusercontent.com/1fjv0NQu5UcjwEk23Uqx3_UEhHf8pcygHiqjE60RsKBYRnahJAAq2LcPVGX4sV_4gPmt1cQr_amigGSGAaBA0ohI7MDE_ZdQCpcMcH4NcKYVL5I9DDXnHQTksRGFvuZFvC6nxhrzBA" />
			<img class="card" name="ningguang" src="https://lh3.googleusercontent.com/48kW8DKoGegNkv1tvEqrp_ATDRarDAuawScxN6SpBlzJ1pQ8-lne2oaoxvODqN-LiJ8RgR3qI_TILQPOjRgw41xhP1c1uUV0IEQOh6YCmypGVtvT47_xOPGaGnnoMpHEmRY6iHcBNA" />
			<img class="card" name="noelle" src="https://lh6.googleusercontent.com/gxwkYBkHjMPJ_V7_S7gLLPaKFUZw1bZWTUz9mfIkhuyYv9jzznCb8boyMg_Z-4EgaC-y_KUMxXqTXq4zWvJfyxxGYPF2jBD1yZ7l3Z10-wHNSwU5hzhStruuXwfsIG39VEEQBraGbg" />
			<img class="card" name="qiqi" src="https://lh3.googleusercontent.com/ulZQb8deI2x2zpJzEE1MC0TtNVQBu8WHHPoKdJPUOXeMJ9g8iNyyzSQtxZN4a7oSINfHiRLIxfYvbe1h4coFk8Y3ZAiAAMPTNv5VDw7hKChfOzdHy3xBMTWocdjCOvJGzREVbXy0Kw" />
			<img class="card" name="razor" src="https://lh5.googleusercontent.com/LRzVfsiujVrZzR2n8E9v35jM0ouVCSdRxrjE9bzV7MMXjQ7hUEdFY3kwSYJ7Cl4pn-LYiFn6iAM7Tjkl8sFvG7kpj1JKagsGk1hzfb5dDnAH3Jfo17Pl2aNVyVUuTKPsrPpB_8y87g" />
			<img class="card" name="sucrose" src="https://lh4.googleusercontent.com/N_Av7Yd5RcDWQO5KV-Uvqal8qO8KoQMwLJje6thDcYvXOahG4ZOf40iegByllGypKAJgCVQQMEMXTOvXEWiRQx60gvBIzYqug_7xOdRSdkmw1tD40dpwnqYCmT2OIHdLiiEtWzOKiA" />
			<img class="card" name="traveler-anemo" src="https://lh4.googleusercontent.com/4AlkWracQPH-Hz7Vxi0DQSR0OduAxF3XzNkI_Eydu-eVfiPNZwvJYdftuuNa2HeG8RjZQ4nmL82PPkTGHBzfLJmaCqodfoeD2yFb9ulskkR4gbpRKtyi3-iCgMrf7D-ESgtX3ZTOrw" />
			<img class="card" name="traveler-geo" src="https://genshin.honeyhunterworld.com/img/char/traveler_geo_135.png" />
			<img class="card" name="venti" src="https://lh3.googleusercontent.com/UMj8CimqPRnPnrtsAI5cSP2i5jft8PeUinRarL0t2W9tO3tsDXIsK9R4j0dq2b1pIlLv-Wh78-EQiGSKdSbWC02sZdUWfHwPMzmuBkFfKfi2YxRCQWZSCOHsT4JNXYKgMJx11HyQ1g" />
			<img class="card" name="xiangling" src="https://lh5.googleusercontent.com/s4he8u8cvKdCiGtSpMGHBxctL5AwzNDBUnnjOQRNLm81p7gdn7OIeGRhSLCTYwSTdQrxNApaFVwO9OkPFzQ6TN6wh6xAq8zP3ZEt5gh65AsOxPbzp4cIns5mAHzFpTWkSIKTQwI5Hw" />
			<img class="card" name="xing-qiu" src="https://lh3.googleusercontent.com/5dHdkR4HkoKHAxkT2o_UEfuTq-OXrEH-EL6AntxefMV3TvXYVoIk9VWHbV-5pVSGlcGqAFx7Hb2CI1OchVi0lIWjM-n0dLzlkFVFR4rTv398s_lDMSn-5_VNA4nMX7jXSpBARhY_BA" />
			<img class="card" name="xinyan" src="https://genshin.honeyhunterworld.com/img/char/xinyan_135.png" />
			<img class="card" name="zhongli" src="https://genshin.honeyhunterworld.com/img/char/zhongli_135.png" />
		</div>
		<div class="header">
			<div class="button to-intro">< Back</div>
			<div class="button to-page2">Next ></div>
		</div>
	</div>
	<div class="page-2">
		<div class="header">
			<img class="head" src="images/bag.svg" />
			<div class="select">Select Weapons</div>
		</div><br />
		<div class="weapons">
		</div>
		<div class="header">
			<div class="button to-page1">< Back</div>
			<div class="button to-page3">Next ></div>
		</div>
	</div>
	<div class="page-3">
		<div class="header">
			<!-- <img class="head" src="images/bag.svg" /> -->
			<div class="no-select">Recommended team composition</div>
		</div><br />
		<div class="team">
			<div class="no-select">Dps</div>
			<br />
			<div class="dps-container">
				<img class="card" name="diluc" src="https://lh4.googleusercontent.com/azVJYV9TRaunokp4hgdnWdpkJ0-1EF0g778JeugNO0nCGrMZ8BzvTWZ5PfbGCpE_qGlNuR4Fx90d-iew1g-TGv0StJCXr6IAeI3XgWqWNOq_JWVO-sG5crQ0WPGELUWeoFRbW95HXw" />
				<div class="weapon card">
					<img class="container" src="images/4star.png" />
					<img class="address" src="https://static.wikia.nocookie.net/gensin-impact/images/1/19/Weapon_Skyward_Harp.png/revision/latest/scale-to-width-down/100?cb=20200619013227" />
					<div class="context">Skyward Harp R2+</div>
				</div>
				<div class="note">
					<div class="desc">Note: [C1] is recommended for DPS build, meaning Oz can still attack even off field. With [C6], you'll be able to have additional electro damage that scales off 30% of Fischl's ATK.
	There's also an animation cancelling technique with Fischl DPS, after 3 or 5 basic attacks, rapidly tap r twice and you'll reset your whole combo, but only use this for animation cancelling when you're out of stamina.</div>
					</div>
				<div class="break-float"></div>
				<img class="card" name="diluc" src="https://lh4.googleusercontent.com/azVJYV9TRaunokp4hgdnWdpkJ0-1EF0g778JeugNO0nCGrMZ8BzvTWZ5PfbGCpE_qGlNuR4Fx90d-iew1g-TGv0StJCXr6IAeI3XgWqWNOq_JWVO-sG5crQ0WPGELUWeoFRbW95HXw" />
				<div class="weapon card">
					<img class="container" src="images/4star.png" />
					<img class="address" src="https://static.wikia.nocookie.net/gensin-impact/images/1/19/Weapon_Skyward_Harp.png/revision/latest/scale-to-width-down/100?cb=20200619013227" />
					<div class="context">Skyward Harp R2+</div>
				</div>
				<div class="note"></div>
				<div class="break-float"></div>
			</div>
			<div class="no-select">Support</div>
			<br />
			<div class="support-container">
			</div>
		</div>
		<div class="header">
			<div class="button to-page2">< Back</div>
		</div>
	</div>
	<div class="page-hidden">
		<div class="header">
			<img class="head" src="images/bag.svg" />
			<div class="select">Select Floor (1-12)</div>
		</div><br />
		<div class="floors">
			<div class="floor">Floor 12</div>
			<div class="floor">Floor 11</div>
			<div class="floor">Floor 10</div>
			<div class="floor">Floor 9</div>
			<div class="floor">Floor 8</div>
			<div class="floor">Floor 7</div>
			<div class="floor">Floor 6</div>
			<div class="floor">Floor 5</div>
			<div class="floor">Floor 4</div>
			<div class="floor">Floor 3</div>
			<div class="floor">Floor 2</div>
			<div class="floor">Floor 1</div>
		</div>
		<div class="header">
			<div class="button to-page2">< Back</div>
		</div>
	</div>
	<div class="page-hidden">
		<div class="header">
			<img class="head" src="images/bag.svg" />
			<div class="select">Select Artifacts (Coming soon)</div>
		</div><br />
		<div class="artifacts">
			Nothing here. Click next
		</div>
		<div class="header">
			<div class="button to-page2">< Back</div>
			<div class="button to-page4">Next ></div>
		</div>
	</div>
	<script>
		$('img').attr('draggable', false);

		var dpsSecondarySet = {
				"amber":"amo's-bow-r2+ rust-r5 amo's-bow rust compound-bow slingshot",
				"barbara":"the-widsith lost-prayer-to-the-sacred-winds solar-pearl mappa-mare magic-guide",
				"beidou":"wolf's-gravestone prototype-aminus-r2+ debate-club-r5",
				"bennett":"aquila-favonia the-black-sword lion's-roar harbinger-of-dawn the-flute prototype-rancour fillet-blade",
				"childe":"skyward-harp rust-r4 amo's-bow viridescent-hunt rust blackcliff-warbow prototype-crescent",
				"chongyun":"wolf's-gravestone skyward-pride prototype-aminus-r2+ serpent-spine blackcliff-slasher debate-club-r5",
				"diluc":"wolf's-gravestone skyward-pride serpent-spine prototype-aminus-r5 prototype-aminus debate-club-r5",
				"diona":"skyward-harp amo's-bow rust compound-bow slingshot sacrificial-bow",
				"fischl":"skyward-harp-r2+ amo's-bow-r2+ rust-r5 skyward-harp amo's-bow rust compound-bow slingshot",
				"jean":"aquila-favonia the-black-sword prototype-rancour harbinger-of-dawn the-flute fillet-blade",
				"kaeya":"aquila-favonia the-black-sword harbinger-of-dawn the-flute prototype-rancour fillet-blade cool-steel",
				"keqing":"aquila-favonia the-flute prototype-rancour-r5 the-black-sword prototype-rancour-r1+ skyward-blade royal-longsword blackcliff-longsword iron-sting sword-of-descension sacrificial-sword",
				"klee":"lost-prayer-to-the-sacred-winds the-widsith skyward-atlas eye-of-perception solar-pearl mappa-mare magic-guide",
				"lisa":"lost-prayer-to-the-sacred-winds skyward-atlas the-widsith solar-pearl mappa-mare magic-guide",
				"mona":"the-widsith lost-prayer-to-the-sacred-winds solar-pearl mappa-mare magic-guide",
				"ningguang":"memory-dust lost-prayer-to-the-sacred-winds the-widsith skyward-atlas eye-of-perception mappa-mare magic-guide",
				"noelle":"skyward-pride-r1 wolf's-gravestone serpent-spine prototype-aminus debate-club-r5",
				"qiqi":"aquila-favonia the-black-sword harbinger-of-dawn the-flute prototype-rancour fillet-blade cool-steel",
				"razor":"wolf's-gravestone skyward-pride serpent-spine prototype-aminus-r2+ debate-club-r5 skyrider-greatsword-r5",
				"sucrose":"lost-prayer-to-the-sacred-winds skyward-atlas the-widsith solar-pearl mappa-mare magic-guide",
				"traveler-anemo":"sword-of-descension aquila-favonia the-black-sword harbinger-of-dawn the-flute fillet-blade",
				"traveler-geo":"sword-of-descension aquila-favonia the-black-sword the-flute blackcliff-longsword iron-sting harbinger-of-dawn fillet-blade",
				"venti":"skyward-harp the-stringless amo's-bow rust compound-bow slingshot",
				"xiangling":"primordial-jade-winged-spear crescent-pike halberd",
				"xinyan":"the-unforged wolf's-gravestone serpent-spine prototype-aminus skyward-pride royal-greatsword blackcliff-slasher sacrificial-greatsword debate-club whiteblind favonius-greatsword skyrider's-greatsword",
				"zhongli":"primordial-jade-winged-spear vortex-vanquisher deathmatch blackcliff-pole skyward-spine royal-spear halberd favonius-lance crescent-pike prototype-grudge",
			};

		var supportSecondarySet = {
			"amber":"favonius-warbow the-stringless",
			"barbara":"thrilling-tales-of-dragon-slayers prototype-malice",
			"beidou":"rainslasher bloodtainted-greatsword",
			"bennett":"skyward-blade aquila-favonia the-flute favonius-sword skyrider-sword",
			"chongyun":"wolf's-gravestone sacrificial-sword debate-club-r5",
			"diluc":"wolf's-gravestone skyward-pride serpent-spine prototype-aminus-r5 prototype-aminus debate-club-r5",
			"diona":"sacrificial-bow favonius-warbow the-stringless",
			"fischl":"the-stringless favonius-warbow",
			"jean":"skyward-blade the-flute sacrificial-sword fillet-blade",
			"kaeya":"sacrificial-sword skyrider-sword cool-steel fillet-blade",
			"keqing":"aquila-favonia-r2+ the-black-sword-r2 aquila-favonia-r1 the-black-sword-r1 the-flute-r5 lion's-roar skyward-blade blackcliff-longsword the-flute-r1+ royal-longsword iron-sting prototype-rancour sword-of-descension sacrificial-sword",
			"klee":"mappa-mare favonius-codex thrilling-tales-of-dragon-slayers",
			"lisa":"mappa-mare thrilling-tales-of-dragon-slayers favonius-codex prototype-malice",
			"mona":"mappa-mare the-widsith favonius-codex thrilling-tales-of-dragon-slayers",
			"ningguang":"prototype-malice thrilling-tales-of-dragon-slayers the-widsith sacrificial-fragments",
			"noelle":"whiteblind sacrificial-greatsword favonius-greatsword",
			"qiqi":"sacrificial-sword skyward-blade the-flute favonius-sword skyrider-sword fillet-blade cool-steel",
			"sucrose":"sacrificial-fragments mappa-mare favonius-codex thrilling-tales-of-dragon-slayers",
			"traveler-anemo":"skyward-blade favonius-sword the-flute sacrificial-sword fillet-blade cool-steel",
			"traveler-geo":"skyward-blade favonius-sword the-flute sacrificial-sword fillet-blade cool-steel",
			"venti":"the-stringless favonius-warbow",
			"xiangling":"skyward-spine prototype-grudge dragon's-bane favonius-lance halberd",
			"xing-qiu":"sacrificial-sword skyward-blade favonius-sword skyrider-sword",
			"zhongli":"primordial-jade-winged-spear vortex-vanquisher deathmatch skyward-spine blackcliff-pole halberd favonius-lance prototype-grudge",
			"xinyan":"sacrificial-greatsword white-blind skyward-pride favonius-greatsword",
		};

		function processTeamComposition() {
			var characters = [];
			var weapons = [];

			// Get all highlighted characters
			$('.characters .card.highlight').each(function(){
				var char = $(this).attr('name');
				characters.push(char);
			});

			var weaponHtml = {};

			$('.weapons .card.highlight').each(function(){
				var weapon = $(this).find('.context').text().trim().toLowerCase().replace(/\s+/g, '-');;
				weapons.push(weapon);

				weaponHtml[weapon] = $(this).html();
			});

			var order = [
				{name:'amber',star:4,energyCost:40},
				{name:'barbara',star:4,energyCost:80},
				{name:'beidou',star:4,energyCost:80},
				{name:'bennett',star:4,energyCost:60},
				{name:'childe',star:4,energyCost:60},
				{name:'chongyun',star:4,energyCost:40},
				{name:'diluc',star:5,energyCost:40},
				{name:'diona',star:4,energyCost:80},
				{name:'fischl',star:4,energyCost:60},
				{name:'jean',star:5,energyCost:80},
				{name:'kaeya',star:4,energyCost:60},
				{name:'keqing',star:5,energyCost:40},
				{name:'klee',star:5,energyCost:60},
				{name:'lisa',star:4,energyCost:80},
				{name:'mona',star:5,energyCost:60},
				{name:'ningguang',star:4,energyCost:40},
				{name:'noelle',star:4,energyCost:60},
				{name:'qiqi',star:5,energyCost:80},
				{name:'razor',star:4,energyCost:80},
				{name:'sucrose',star:4,energyCost:80},
				{name:'traveler-anemo',star:5,energyCost:60},
				{name:'traveler-geo',star:5,energyCost:60},
				{name:'venti',star:5,energyCost:60},
				{name:'xiangling',star:4,energyCost:80},
				{name:'xing-qiu',star:4,energyCost:80},
				{name:'xinyan',star:4,energyCost:60},
				{name:'zhongli',star:5,energyCost:40},
			];

			order.sort(function (a, b) {
			  return b.star - a.star;
			});

			order.sort(function (a, b) {
			  return a.energyCost - b.energyCost;
			});


			// generate basis 1st priorities
			var fiveStars = {
				'childe':1,
				'diluc':1,
				'jean':1,
				'keqing':1,
				'klee':1,
				'mona':1,
				'qiqi':1,
				'traveler-anemo':1,
				'traveler-geo':1,
				'venti':1,
				'zhongli':1,
			};

			var notesDps = {
				"fischl":`[C1] is recommended for DPS build, meaning Oz can still attack even off field. With [C6], you'll be able to have additional electro damage that scales off 30% of Fischl's ATK.
There's also an animation cancelling technique with Fischl DPS, after 3 or 5 basic attacks, rapidly tap r twice and you'll reset your whole combo, but only use this for animation cancelling when you're out of stamina.`,
				"beidou":`Debate club [R5] > Prototype Aminus [R2] until level 70.
Serpent spine becomes increasingly stronger as your ATK stat increases, which can surpass Prototype Aminus.
Learn to time Elemental Skill with enemy attacks for more damage.`,
				"lisa":`This is a build focused around her Elemental Skill. Credit goes to MiskaDOT https://youtu.be/RAiOtEyZxV8`,
				"razor":`Debate club [R5] > Prototype Aminus [R2] until level 70.
Serpent Spine becomes increasingly stronger as your ATK stat increases, which can surpass Prototype Aminus.`,
				"amber":`Use Elemental Skill to Taunt enemies. Try to have no/low amount of HP stats to make the Elemental skill explode faster.`,
				"xiangling":`Crescent Pike and Primordial Jade Winged-Spear needs testing at each ascension and refine.
Crescent Pike is extremely strong on Xiangling due to the nature of her attack combo.`,
				"bennett":`Bennett's Elemental Burst grants you a pryo status as long as your characters are within his burst AoE. (Cryo in specific, since Pryo > Cryo).

For that, cast Elemental Burst with Bennett, switch to the character imbued with Cryo and walk on Bennett's Burst field.`,
				"barbara":`Use Charged Attacks.`,
				"chongyun":`Recommended to obtain [C1] to boost his damage significantly.
High base ATK as his ascend stat, deals consistent Cryo damage and quick bursts. Debate Club [R5] beats Prototype Animus [R2] up until level 70.`,
				"kaeya":`It is possible to build Crit for Kaeya like any other DPS, he just doesn't have the most ideal kit to amplify damage. Least Recommended.`,
				"ningguang":`Stack Crit Rate and Crit Damage. Use Elemental Skill and walk through it before using Elemental Burst for more damage. You can animation cancel her Normal Attack by NA and then walking and then NA etc.

Bolide comparisons done with C2 and C6. For general use, Bolide has the highest damage of the three options on normal -> charge loops, but is the weakest on burst rotations assuming at least C2 s.t. you Skill -> Burst -> Skill -> Charge. You need about 4 rotations between bursts to catch Noble Mix if C6, 5 if C2. You would need 9 rotations to catch Glad Mix even with C6.`,
				"noelle":`Noelle DPS is best optimized at [C6] where she converts an additional 50% DEF into ATK. abuse ATK x DEF build and smash your enemies down with barrier countering knockback.`,
				"sucrose":`This build is recommended when you have her at [C4].`,
				"venti":`This build focuses on dmg over ER because as you level up Venti, his ER goes up.`,
				"traveler-anemo":`This is for Anemo Traveler. Geo Traveler is not recommended to use in lategame due to weak elemental reactions, but still works if you only use geo traveler for phys dmg build.`,
				"traveler-geo":``,
				"diluc":`Use Crimson Witch artifact set for more Pyro DPS. Gladiator's Finale for more Physical DPS.
If you're Constellation 2, refrain from using Serpent Spine as C2 requires you to take damage for the buff which counteracts with Serpent Spine's Stacks. Serpent Spine can lose it's stacks if you come into contact with burning grass. (S1 means 1 Stack)`,
				"klee":`Use charge attacks near groups of enemies for large AoE Damage. Attacks have a 50% chance of spawning a floating star. Floating star gives 50% increased damage and removes stamina cost for 1 charge attack.`,
				"keqing":`Black sword will heal you, so its utility is unparalleled.

Talent Priority for Her E and Q are interchangeable.`,
				"jean":`Really good with [C4] if you can get it, but otherwise still a good DPS. Still decent with [C2]. Jean's ES does additional fall dmg based off of MAX HP% if you aim it upwards`,
				"mona":`Use Berserker + The Exile until you get good 5 ⭐ Artifacts for Wanderer's Troupe and either Noblesse Oblige or Gladiator's Finale.`,
				"qiqi":`Use Elemental Skill and/or Elemental Burst to Heal while doing damage with Auto Attacks.`,
				"diona":`Depending on your choice of Elemental Skill cast, the CD of her Elemental Skill can change rapidly.

Her kit is pretty straight forward, but DPS is only recommended for C2 Diona or above.`,
				"childe":`Use Retracing Bolide (Full set) if you can keep a shield on him, difficult to maintain which is why it's placed second.

Hourglass - ATK %
Goblet - Hydro %
Headgear - Crit %

If you use Childe's bow attacks more then his melee stance lvl his normal attack up first.`,
				"zhongli":`A big portion of Zhongli's damage relies on his Elemental Skill and Elemental Burst, especially his burst with an energy cost of 40 and a cool down of 12 seconds. As you reach higher constellations for Zhongli you'll be seeing more bonuses for his skills and bursts, so the chances of you relying on physical damage for him is low.

Primordial helps stacking up ATK, while providing bonus damage dealt at max stacks.

Vortex Vanquisher helps stacking up ATK, while also providing a stronger shield effect.`,
				"xinyan": ``,
			};

			var notesSupport = {
				"fischl":`Burst and skill both ends up with Oz staying on field, make sure you don't use them together, only when Oz expires do you use the other ability.
While gambler's is 4⭐, you can use a flower as one of the slots in order to minimise raw stat loss.`,
				"beidou":`Use Elemental Burst and Switch`,
				"lisa":`Use Elemental Burst and Switch to a DPS unit.
Lisa works well with anemo characters which can keep enemies in her ultimate radius.`,
				"razor":``,
				"amber":`Use Elemental Skill to Taunt enemies.`,
				"xiangling":`Use Elemental Skill and/or Elemental Burst and a few auto attacks if using Halberd, then switch.`,
				"bennett":`Heals from Elemental Burst scale off of HP, while damage buff from Burst only scales with your base ATK.
Base ATK refers to only character base atk stat and weapon atk stat.`,
				"xing-qiu": `Link to the Xingqiu Handbook comprehensive guide:
https://docs.google.com/document/d/e/2PACX-1vRYt7lwTgFgQImSR_4llvG9mhkC6C4_DvWTINgynGqse1ke4CiJLmb_JnG8IWMr5o6v4BWgxETlIzKA/pub`,
				"barbara":`Use Elemental Skill and/or Elemental Burst and Switch.`,
				"chongyun":`Much more potential as he grows in constellation. At [C2], his Elemental Skill reduces ability CD that is casted within the zone. Just watch out for his Cryo field overwriting your elemental melee basics (KeQing, Diluc etc.)
If you're running Instructor on Chongyun, you should be the one who procs the elemental reaction with E for 4 set perk to proc.`,
				"kaeya":`Wanted for his burst that works even off-field, granting cryo procs while you can use your main DPS.`,
				"ningguang":`Use burst for damage and crystalization, along with barrier support. Skill order may differ in situations. if you want damage: Skill > Burst > Charge attack If you want barrier: Burst > Skill > Charge attack" with Skill order goes as following: if you want damage: Skill > Burst > Charge attack If you want barrier: Burst > Skill > Charge attack Make sure your DPS already has their element applied first.`,
				"noelle":`With the Retracing and Maiden hybrid set you'll be able to heal with a stronger shield durability while you're on field, as Retracing Bolide 2-set perk only works for the character equipped with it. (It increases shield strength, which is a stat instead of a value multiplier.)`,
				"sucrose":`Sucrose passive at Ascension LVL.1 and LVL.4 will provide different elemental mastery bonuses to characters that proc the elemental reaction. You will be making the most out of Sucrose support with Elemental Mastery as your prioritized stat.`,
				"venti":`The Stringless is better if you have atleast 170% Energy Recharge.`,
				"traveler-anemo":`Use Elemental Skill and/or Elemental Burst then switch.`,
				"traveler-geo":``,
				"diona":`Noblesse Oblige for those who uses Diona for only cryo procs and want the atk bonus from her burst cast.
Maiden's Beloved to increase healing potential of your burst.
Exile/Scholar 2pc to compensate for Diona's lack of energy since her burst costs 80 energy.
Retracing Bolide 2pc effect increases your shield strength stat, which cannot be shared onto other characters (Please check character stat details), the hybrid build is for those who have a higher on-field time using Diona.`,
				"diluc":`Use his Elemental Burst followed by his Elemental Skill combo and then switch to your carry.`,
				"klee":`Use Instructor Set when Constellation is less than 4. Use either Noblesse Oblige or Crimson Witch of Flames at [C4]+. Klee's ult does not carry over when you change characters. Keep in mind klee is really bad as a support and only used for applying pyro effectively if below [C4]`,
				"keqing":`Black Sword and The Flute R5 are equal as there is minimal difference between both weapons.

Black sword will heal you, so its utility is unparalleled.

Talent Priority between E and Q are interchangeable.`,
				"jean":`Elemental Skill can be used to push smaller mobs away. Elemental Burst's heal scales off of ATK. Use Sacrificial Sword over The Flute if you have bad energy recharge.`,
				"mona":`Mona's E provides taunt and procs wet status on enemies, her elemental burst is also capable of rendering minions immobile and providing a huge damage burst (and additional debuff after proc).
Upon cast of ultimate, immediately switch to your DPS and go straight for bubble pop, ideally you want to use pyro on the first hit for the 1.5x multiplier off the pyro-proc vaporize. Build a team that can buff Mona's ultimate.`,
				"qiqi":`Qiqi's elemental burst allows other characters to maximize dps while healing off-field herself. Prioritize using QiQi's burst when facing against situations that require you to do DPS, for example time-trial challenges. At ascension 4, she gives additional healing.`,
				"zhongli": `Zhongli's kit is best utilised as a burst damage support for his unbelievably short burst cool down (12s) and low energy cost (40 Energy), while his Elemental Skill Hold Cast (Shield) scales his HP and at Ascension lv.4 you would unlock a talent that allows your burst to scale 33% of Max HP, making him an amazing source of shields and damage.`,
				"xinyan": `Generally Xinyan support makes her a physical buffer for other physical carries like keqing or razor. She can be used as a full shield provider&buffer or a sub dps&buffer for quick swap comps.

At C2 her burst "Riff Revolution" has 100% crit rate. Can rather build a lot of Crit dmg on her and abuse of her Burst as extra DPS while having her as support at this stage.`,
			};


			var dpsSet = {};
			var supportSet = {};

			taken = {};
			team = {};
			dps = {};
			rating = {};
			hasDps = 2;

			// check if there's still characters not matched
			if(checkCharacterHasWeapon(characters, taken, false) == false) {
				// perform secondary process (score will be dynamic this time)
				var layer = 0;
				for (var score = 0; score < 14; score++) {

					// generate set
					dpsSet = extractSet(dpsSecondarySet, layer);
					supportSet = extractSet(supportSecondarySet, layer);

					// order by energy cost and star
					for(var i in order) {
						if(!characters.includes(order[i].name)) continue;
						var char = order[i].name;

						checkMatchDps(char, weapons, dpsSet, score);
						checkMatch(char, weapons, supportSet, score);
					}

					// // match for 5 star characters first
					// for (var i = 0; i < characters.length; i++) {
					// 	var char = characters[i];

					// 	if(fiveStars[char]!=undefined) {
					// 		checkMatchDps(char, weapons, dpsSet, score);
					// 		checkMatch(char, weapons, supportSet, score);
					// 	}
					// }

					// for (var i = 0; i < characters.length; i++) {
					// 	var char = characters[i];

					// 	checkMatchDps(char, weapons, dpsSet, score);
					// 	checkMatch(char, weapons, supportSet, score);
					// }
					layer++;

					// console.log({dpsSet, supportSet, score, layer});

					// if every character has a weapon skip
					if(checkCharacterHasWeapon(characters, taken, false) == true) break;
				}

				checkCharacterHasWeapon(characters, taken, true);
			}

			// console.log({taken, team, dps, weaponHtml});

			// display result
			$('.support-container').html('');
			$('.dps-container').html('');
			for(var char in team) {
				var target = '.support-container';
				var note = '';
				if(dps[char] != undefined) {
					target = '.dps-container';
					note = notesDps[char];
				} else {
					note = notesSupport[char];
				}

				var charCard = $('.characters .card[name="'+char+'"]').get(0).outerHTML;
				var weaponCard = weaponHtml[team[char]];
				$(target).append(charCard);
				$(target).append(`<div class="weapon card">` + weaponCard + `</div>`);
				$(target).append(`<div class="note"><div class="desc">Score: ` + rating[char]*100 + `% Note: `+ note +`</div></div>`);
				$(target).append(`<div class="break-float"></div>`);
			}
		}

		var hasDps = false;
		var taken = {};
		var team = {};
		var dps = {};
		var rating = {};

		function extractSet(set,layer)
		{
			var extracted = {};

			for(var i in set) {
				extracted[i] = set[i].split(' ')[layer];
			}

			return extracted;
		}

		function checkCharacterHasWeapon(characters, taken, display) {
			var charactersHasWeapon = true;
			for (var i = 0; i < characters.length; i++) {
				var char = characters[i];
				if(taken[char] == undefined) {
					charactersHasWeapon = false;

					if(display == true)
						console.log('character has no weapon: ' + char);
				}
			}

			return charactersHasWeapon;
		}

		function checkMatchDps(character, weapons, weaponList, score) {
			if(hasDps>0) {
				var hasMatch = checkMatch(character, weapons, weaponList);
				if(hasMatch) {
					hasDps--;
					dps[character] = 1;

					var lengthh = dpsSecondarySet[character].split(' ').length;
					var derivedScore = (lengthh-score)/lengthh;
					console.log({score, derivedScore, minus:(lengthh-score), lengthh});
					rating[character] = derivedScore;
				}
			}
		}

		function checkMatch(character, weapons, weaponList, score) {
			if(taken[character] != undefined) return false;

			for (var i = 0; i < weapons.length; i++) {
				if(taken[weapons[i]] != undefined) continue;
				if(weaponList[character] == weapons[i]) {
					taken[weapons[i]] = 1;
					taken[character] = 1;
					team[character] = weapons[i];

					if(supportSecondarySet[character] != undefined)
						var lengthh = supportSecondarySet[character].split(' ').length;
					else
						var lengthh = 0;

					var derivedScore = (lengthh-score)/lengthh;

					rating[character] = derivedScore;
					return true;
				}
			}

			return false;
		}

		var events = [];

		function loadEvents() {
			events = JSON.parse(localStorage.getItem("events"));

			for (var i = 0; i < events.length; i++) {
				var event_name = events[i][0];
				var event_value = events[i][1];

				switch(event_name) {
					case 'toggleCard':
						toggleCard(event_value);
					break;
				}
			}
		}

		function addEvent(eventName, name)
		{
			events.push([eventName, name]);
			localStorage.setItem("events", JSON.stringify(events));
		}

		function toggleCardEvent(name) {
			addEvent('toggleCard', name);
			toggleCard(name);
		}

		function toggleCard(name) {
			$(".card[name=\""+name+"\"]").toggleClass( "highlight" );
		}

		$(document).on('click', '.characters .card, .weapons .card', function(){
			toggleCardEvent($(this).attr('name'));
		});

		var insideIntro = true;

		function toIntro() {
			$('.intro').fadeIn();
			$('.page-1').fadeOut();
			insideIntro = true;
		}

		function toPage1() {
			$('.intro').fadeOut();
			$('.page-2').fadeOut();
			$('.page-1').fadeIn();
			insideIntro = false;
		}

		function toPage2() {
			$('.page-1').fadeOut();
			$('.page-3').fadeOut();
			$('.page-2').fadeIn();
			insideIntro = false;
		}

		function toPage3() {
			// $('.page-4').fadeOut();
			$('.page-2').fadeOut();
			$('.page-3').fadeIn();
			insideIntro = false;
			processTeamComposition();
		}

		$('.intro').on('click',function(){toPage1();});
		$('.to-intro').on('click',function(){toIntro();});
		$('.to-page1').on('click',function(){toPage1();});
		$('.to-page2').on('click',function(){toPage2();});
		$('.to-page3').on('click',function(){toPage3();});

		setTimeout(function(){
			document.onkeyup = function(){
				if(insideIntro == true){
					toPage1();
				}
			};
		}, 2000);

		var weapons = [];

		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/0/03/Weapon_Skyward_Blade.png/revision/latest/scale-to-width-down/100?cb=20201103100049", "Skyward Blade", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/0/04/Weapon_Whiteblind.png/revision/latest/scale-to-width-down/100?cb=20200620082127", "Whiteblind", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/0/0b/Weapon_Skyward_Pride.png/revision/latest/scale-to-width-down/100?cb=20200620082616", "Skyward Pride R1", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/0/0b/Weapon_Skyward_Pride.png/revision/latest/scale-to-width-down/100?cb=20200620082616", "Skyward Pride", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/17/Weapon_Sacrificial_Greatsword.png/revision/latest/scale-to-width-down/256?cb=20201120004023", "Sacrificial Greatsword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/17/Weapon_Sword_of_Descension.png/revision/latest/scale-to-width-down/100?cb=20201016012824", "Sword of Descension", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/19/Weapon_Skyward_Harp.png/revision/latest/scale-to-width-down/100?cb=20200619013227", "Skyward Harp R2+", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/19/Weapon_Skyward_Harp.png/revision/latest/scale-to-width-down/100?cb=20200619013227", "Skyward Harp", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/19/Weapon_Thrilling_Tales_of_Dragon_Slayers.png/revision/latest/scale-to-width-down/100?cb=20200619023052", "Thrilling Tales of Dragon Slayers", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/1c/Weapon_Rust.png/revision/latest/scale-to-width-down/100?cb=20200619005218", "Rust R4", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/1c/Weapon_Rust.png/revision/latest/scale-to-width-down/100?cb=20200619005218", "Rust R5", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/1/1c/Weapon_Rust.png/revision/latest/scale-to-width-down/100?cb=20200619005218", "Rust", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/2/23/Weapon_Harbinger_of_Dawn.png/revision/latest/scale-to-width-down/100?cb=20200620190840", "Harbinger of Dawn", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/2/24/Weapon_Dragon%27s_Bane.png/revision/latest/scale-to-width-down/100?cb=20200620085449", "Dragon's Bane", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/3/32/Weapon_Compound_Bow.png/revision/latest/scale-to-width-down/100?cb=20200619001506", "Compound Bow", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/3/32/Weapon_Prototype_Malice.png/revision/latest/scale-to-width-down/100?cb=20200619020021", "Prototype Malice", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/3/33/Weapon_Skyward_Atlas.png/revision/latest/scale-to-width-down/100?cb=20201103105119", "Skyward Atlas", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/3/34/Weapon_Skyrider_Sword.png/revision/latest/scale-to-width-down/100?cb=20200706102839", "Skyrider Sword", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/3/35/Weapon_Iron_Sting.png/revision/latest/scale-to-width-down/100?cb=20201103101001", "Iron Sting", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/3/36/Weapon_Favonius_Codex.png/revision/latest/scale-to-width-down/100?cb=20201105075838", "Favonius Codex", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/3/39/Weapon_Magic_Guide.png/revision/latest/scale-to-width-down/100?cb=20200619022536", "Magic Guide", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/4/41/Weapon_Halberd.png/revision/latest/scale-to-width-down/100?cb=20201008195027", "Halberd", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/4/43/Weapon_Prototype_Crescent.png/revision/latest/scale-to-width-down/256?cb=20201116034737", "Prototype Crescent", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/4/4a/Weapon_Bloodtainted_Greatsword.png/revision/latest/scale-to-width-down/100?cb=20200619065637", "Bloodtainted Greatsword", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/4/4c/Weapon_Crescent_Pike.png/revision/latest/scale-to-width-down/100?cb=20200618235632", "Crescent Pike", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/4/4d/Weapon_Mappa_Mare.png/revision/latest/scale-to-width-down/100?cb=20200619015830", "Mappa Mare", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/4/4f/Weapon_Wolf%27s_Gravestone.png/revision/latest/scale-to-width-down/100?cb=20200620184433", "Wolf's Gravestone", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/5/57/Weapon_Favonius_Lance.png/revision/latest/scale-to-width-down/100?cb=20201103094806", "Favonius Lance", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/63/Weapon_The_Flute.png/revision/latest/scale-to-width-down/100?cb=20200620235804", "The Flute R1+", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/63/Weapon_The_Flute.png/revision/latest/scale-to-width-down/100?cb=20200620235804", "The Flute R5", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/63/Weapon_The_Flute.png/revision/latest/scale-to-width-down/100?cb=20200620235804", "The Flute", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/68/Weapon_Prototype_Aminus.png/revision/latest/scale-to-width-down/100?cb=20200620074014", "Prototype Aminus r2+", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/68/Weapon_Prototype_Aminus.png/revision/latest/scale-to-width-down/100?cb=20200620074014", "Prototype Aminus r5", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/68/Weapon_Prototype_Aminus.png/revision/latest/scale-to-width-down/100?cb=20200620074014", "Prototype Aminus", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/69/Weapon_Deathmatch.png/revision/latest/scale-to-width-down/256?cb=20201116154647", "Deathmatch", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6a/Weapon_Aquila_Favonia.png/revision/latest/scale-to-width-down/100?cb=20201103101131", "Aquila Favonia R1", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6a/Weapon_Aquila_Favonia.png/revision/latest/scale-to-width-down/100?cb=20201103101131", "Aquila Favonia R2+", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6a/Weapon_Aquila_Favonia.png/revision/latest/scale-to-width-down/100?cb=20201103101131", "Aquila Favonia", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6c/Weapon_Eye_of_Perception.png/revision/latest/scale-to-width-down/100?cb=20201102153359", "Eye of Perception", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6c/Weapon_Sacrificial_Fragments.png/revision/latest/scale-to-width-down/100?cb=20201028190827", "Sacrificial Fragments", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6e/Weapon_Skyrider_Greatsword.png/revision/latest/scale-to-width-down/100?cb=20200620073049", "Skyrider Greatsword R5", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6e/Weapon_Skyrider_Greatsword.png/revision/latest/scale-to-width-down/100?cb=20200620073049", "Skyrider's Greatsword", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/6f/Weapon_Blackcliff_Longsword.png/revision/latest/scale-to-width-down/100?cb=20200618235000", "Blackcliff Longsword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/7/71/Weapon_The_Stringless.png/revision/latest/scale-to-width-down/100?cb=20200619005804", "The Stringless", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/7/74/Weapon_Debate_Club.png/revision/latest/scale-to-width-down/100?cb=20200620070915", "Debate Club r5", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/7/74/Weapon_Debate_Club.png/revision/latest/scale-to-width-down/100?cb=20200620070915", "Debate Club", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/7/7a/Weapon_Prototype_Grudge.png/revision/latest/scale-to-width-down/256?cb=20201116034758", "Prototype Grudge", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/8/80/Weapon_Primordial_Jade_Winged-Spear.png/revision/latest/scale-to-width-down/100?cb=20201010005248", "Primordial Jade Winged-Spear", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/8/85/Weapon_Favonius_Warbow.png/revision/latest/scale-to-width-down/100?cb=20200619003125", "Favonius Warbow", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/8/88/Weapon_Serpent_Spine.png/revision/latest/scale-to-width-down/100?cb=20201005105539", "Serpent Spine", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/9/90/Weapon_Favonius_Sword.png/revision/latest/scale-to-width-down/100?cb=20201103100623", "Favonius Sword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/9/98/Weapon_Lost_Prayer_to_the_Sacred_Winds.png/revision/latest/scale-to-width-down/100?cb=20200619014501", "Lost Prayer to the Sacred Winds", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/9/9c/Weapon_Cool_Steel.png/revision/latest/scale-to-width-down/100?cb=20200620190036", "Cool Steel", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/9/9c/Weapon_Favonius_Greatsword.png/revision/latest/scale-to-width-down/100?cb=20200620073408", "Favonius Greatsword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/a/a0/Weapon_Sacrificial_Sword.png/revision/latest/scale-to-width-down/100?cb=20200620235557", "Sacrificial Sword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/b/b8/Weapon_Blackcliff_Warbow.png/revision/latest/scale-to-width-down/256?cb=20201103093753", "Blackcliff Warbow", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/c/ca/Weapon_Memory_of_Dust.png/revision/latest/scale-to-width-down/256?cb=20201119232148", "Memory Dust", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/c/ca/Weapon_Slingshot.png/revision/latest/scale-to-width-down/100?cb=20200619011230", "SlingShot", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/c/cd/Weapon_Royal_Longsword.png/revision/latest/scale-to-width-down/100?cb=20200620235317", "Royal Longsword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/c/cf/Weapon_The_Black_Sword.png/revision/latest/scale-to-width-down/100?cb=20201005104458", "The Black Sword R1", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/c/cf/Weapon_The_Black_Sword.png/revision/latest/scale-to-width-down/100?cb=20201005104458", "The Black Sword R2", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/c/cf/Weapon_The_Black_Sword.png/revision/latest/scale-to-width-down/100?cb=20201005104458", "The Black Sword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/d/d4/Weapon_Rainslasher.png/revision/latest/scale-to-width-down/100?cb=20200620074157", "Rainslasher", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/d/d5/Weapon_Blackcliff_Pole.png/revision/latest/scale-to-width-down/256?cb=20201116153435", "Blackcliff Pole", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/d/d6/Weapon_Vortex_Vanquisher.png/revision/latest/scale-to-width-down/256?cb=20201129060822", "Vortex Vanquisher", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/d/d7/Weapon_Blackcliff_Slasher.png/revision/latest/scale-to-width-down/256?cb=20201116033252", "Blackcliff Slasher", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/d/de/Weapon_Amos%27_Bow.png/revision/latest/scale-to-width-down/100?cb=20200619000921", "Amo's Bow R2+", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/d/de/Weapon_Amos%27_Bow.png/revision/latest/scale-to-width-down/100?cb=20200619000921", "Amo's Bow", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/e/e6/Weapon_Lion%27s_Roar.png/revision/latest/scale-to-width-down/100?cb=20200620234652", "Lion's Roar", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/e/ec/Weapon_Sacrificial_Bow.png/revision/latest/scale-to-width-down/100?cb=20201012024723", "Sacrificial Bow ", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/e/ef/Weapon_Prototype_Rancour.png/revision/latest/scale-to-width-down/100?cb=20200620234906", "Prototype Rancour R1+", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/e/ef/Weapon_Prototype_Rancour.png/revision/latest/scale-to-width-down/100?cb=20200620234906", "Prototype Rancour R5", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/e/ef/Weapon_Prototype_Rancour.png/revision/latest/scale-to-width-down/100?cb=20200620234906", "Prototype Rancour", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/f/f0/Weapon_The_Widsith.png/revision/latest/scale-to-width-down/100?cb=20200619021511", "The Widsith", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/f/f7/Weapon_Fillet_Blade.png/revision/latest/scale-to-width-down/100?cb=20201005040553", "Fillet Blade", "3star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/f/fc/Weapon_Solar_Pearl.png/revision/latest/scale-to-width-down/100?cb=20200619020906", "Solar Pearl", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/f/fd/Weapon_Royal_Spear.png/revision/latest/scale-to-width-down/256?cb=20201202041704", "Royal Spear", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/f/ff/Weapon_The_Viridescent_Hunt.png/revision/latest/scale-to-width-down/256?cb=20201120010331", "Viridescent Hunt", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/6/69/Weapon_Skyward_Spine.png/revision/latest/scale-to-width-down/256?cb=20201116035301", "Skyward Spine", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/f/f7/Weapon_The_Unforged.png/revision/latest/scale-to-width-down/256?cb=20201129060814", "The Unforged", "5star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/b/bf/Weapon_Royal_Greatsword.png/revision/latest/scale-to-width-down/256?cb=20201116034928", "Royal Greatsword", "4star"]);
		weapons.push(["https://static.wikia.nocookie.net/gensin-impact/images/0/04/Weapon_Whiteblind.png/revision/latest/scale-to-width-down/256?cb=20201116035607", "White blind", "4star"]);

		// display 5 star first
		for (var i = 0; i < weapons.length; i++) {
			var address = weapons[i][0];
			var context = weapons[i][1];
			var nameCard = weapons[i][1].trim().toLowerCase().replace(/\s+/g, '-');
			var container = weapons[i][2];
			if(container != "5star") continue;
			var html = `
				<div class="weapon card" name="`+nameCard+`" >
					<img class="container" src="images/` + container + `.png" />
					<img class="address" src="` + address + `" />
					<div class="context">` + context + `</div>
				</div>
			`;

			$('.weapons').append(html);
		}

		for (var i = 0; i < weapons.length; i++) {
			var address = weapons[i][0];
			var context = weapons[i][1];
			var nameCard = weapons[i][1].trim().toLowerCase().replace(/\s+/g, '-');
			var container = weapons[i][2];
			if(container != "4star") continue;
			var html = `
				<div class="weapon card" name="`+nameCard+`" >
					<img class="container" src="images/` + container + `.png" />
					<img class="address" src="` + address + `" />
					<div class="context">` + context + `</div>
				</div>
			`;

			$('.weapons').append(html);
		}

		for (var i = 0; i < weapons.length; i++) {
			var address = weapons[i][0];
			var context = weapons[i][1];
			var nameCard = weapons[i][1].trim().toLowerCase().replace(/\s+/g, '-');
			var container = weapons[i][2];
			if(container != "3star") continue;
			var html = `
				<div class="weapon card" name="`+nameCard+`" >
					<img class="container" src="images/` + container + `.png" />
					<img class="address" src="` + address + `" />
					<div class="context">` + context + `</div>
				</div>
			`;

			$('.weapons').append(html);
		}


		function debug()
		{
			$('.characters .card').toggleClass( "highlight" );
			$('.weapons .card').toggleClass( "highlight" );

			toPage1();
			toPage2();
			toPage3();

			// sanity check make sure there's no typo
			var weapons = [];
			$('.weapons .card.highlight').each(function(){
				var weapon = $(this).find('.context').text().trim().toLowerCase().replace(/\s+/g, '-');
				weapons.push(weapon);
			});

			// extract weapons of chars
			var weaponInText = {};

			for(var i in dpsSecondarySet) {
				var variates = dpsSecondarySet[i].trim().split(' ');
				for (var j = 0; j < variates.length; j++) {
					weaponInText[variates[j]] = 1;
				}
			}

			for(var i in supportSecondarySet) {
				var variates = supportSecondarySet[i].trim().split(' ');
				for (var j = 0; j < variates.length; j++) {
					weaponInText[variates[j]] = 1;
				}
			}

			for (var i = 0; i < weapons.length; i++) {
				if(weaponInText[weapons[i]] == undefined) {
					console.log('none matching weapons to characters: ' + weapons[i]);
				}
			}

			for(var i in weaponInText) {
				var hasmatching = false;
				for (var j = 0; j < weapons.length; j++) {
					if(weapons[j] == i) hasmatching = true;
				}

				if(hasmatching == false) console.log('none matching characters to weapons: ' + i);
			}
		}

		// debug();
		loadEvents(); // load recent action
	</script>
</body>
</html>